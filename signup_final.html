<!DOCTYPE html>
<!-- Coding by CodingLab | www.codinglabweb.com-->
    <html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <!--<title> Responsive Login and Signup Form </title>-->
      
        <!-- CSS -->
        <link rel="stylesheet" href="sign_upfinal.css">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css" >
        <!-- Boxicons CSS -->
        <link href='https://unpkg.com/boxicons@2.1.2/css/boxicons.min.css' rel='stylesheet'>
                        
    </head>
    <body>
        <section class="container forms">
             <button  class="thisBtn" >
                      Login
                  </button>
            <div id="myModal" class="modal modal_multi">
                <!--modal content-->
                     <span class="closes">&times;</span>
                    
        <div class="modalContainer">
                      
            <div class="form login">
                <div class="form-content">
                    <header>Login</header>
                    <form id = "forms" action="#">
                        <div class="field input-field">
                            <input type="email" placeholder="Email" class="input" required>
                        </div>
                       
                        <div class="field input-field">
                            <input type="password" placeholder="Password" class="password">
                            <i class='bx bx-hide eye-icon'></i>
                        </div>

                        <div class="form-link">
                            <a href="#" class="forgot-pass">Forgot password?</a>
                        </div>

                        <div class="field button-field">
                            <button class = "btn" type = "submit">Login</button>
                        </div>
                    </form>

                   
                </div>

                <div class="line"></div>
                <div class="form-link">
                    <span>Don't have an account? <a href="#" class="link signup-link">Signup</a></span>
                </div>
               

            </div>

            <!-- Signup Form -->

            <div class="form signup">
                <div class="form-content">
                    <header>Signup</header>
                    <form  action="#">
                        <div class="field name-field">
                            <div class="field input-field ">
                              <input type="name" placeholder="Enter your full name" class="full-name" id="full-name" autocomplete = "off" required />
                            </div>
                            <span class="error name-error">
                              <i class="bx bx-error-circle error-icon"></i>
                              <p class="error-text">Please enter a valid name</p>
                            </span>
                          </div>
                          <div class="field grade-field">
                            <div class="field input-field ">
                              <input type="name" placeholder="Enter your grade level" class="grade-level" id="grade" autocomplete = "off" required />
                            </div>
                            <span class="error name-error">
                              <i class="bx bx-error-circle error-icon"></i>
                              <p class="error-text">Please enter a grade level</p>
                            </span>
                          </div>
                          <div class="field section-field">
                            <div class="field input-field ">
                              <input type="name" placeholder="Enter your section" class="section" id="section" autocomplete = "off" required />
                            </div>
                            <span class="error section-error">
                              <i class="bx bx-error-circle error-icon"></i>
                              <p class="error-text">Please enter a valid section</p>
                            </span>
                          </div>
                        
                        <div class="field email-field">
                            <div class=" field input-field ">
                              <input type="email" placeholder="Enter your email" class="email" id="email" autocomplete = "off" />
                            </div>
                            <span class="error email-error">
                              <i class="bx bx-error-circle error-icon"></i>
                              <p class="error-text">Please enter a valid email</p>
                            </span>
                          </div>
                          <div class="field create-password">
                            <div class="field input-field ">
                              <input
                                type="password"
                                placeholder="Create password"
                                class="create-password"
                              id = "password" autocomplete = "off" required/>
                              <i class="bx bx-hide show-hide"></i>
                            </div>
                            <span class="error password-error">
                              <i class="bx bx-error-circle error-icon"></i>
                              <p class="error-text">
                                Please enter atleast 8 charatcer with number, symbol, small and
                                capital letter.
                              </p>
                            </span>
                          </div>
                          <div class="field confirm-password">
                            <div class=" field input-field">
                              <input
                                type="password"
                                placeholder="Confirm password"
                                class="cPassword" id ="confirm-password"
                                autocomplete = "off" required/>
                              <i class="bx bx-hide show-hide"></i>
                            </div>
                            <span class="error cPassword-error">
                              <i class="bx bx-error-circle error-icon"></i>
                              <p class="error-text">Password don't match</p>
                            </span>
                          </div>
                          <div class="field button-field form-link">
                           
                            <!-- <input type="submit" value="Signup"href="#" class="link login-link" style = " color: #fff;
                            background-color: #01d355;
                            transition: all 0.3s ease;
                            cursor: pointer;" /> -->
                            <button type="submit" value="Submit Now"> <a href="#" class="link login-link" style = "text-decoration:none; color: white;">Signup</a></button>
                            
                          </div>
                          </form>

                  
                </div>

                <div class="line"></div>
                <div class="form-link">
                    <span>Already have an account? <a href="#" class="link login-link">Login</a></span>
                </div>

              
            </div>
        </div>
        </div>
        </section>



        <!-- JavaScript -->
        <!--<script src="js/script.js"></script>-->
        <script>
              const formsu = document.getElementById('forms');
        const fullName = document.getElementById('full-name');
        const gradeLevel = document.getElementById('grade-level');
        const section = document.getElementById('section');


        formsu.addEventListener('submit',function(e){
            e.preventDefault();

            const fullNameValue = fullName.value;
            const gradeLevelValue = gradeLevel.value;
            const sectionValue = section.value

            // localStorage.setItem('myObject',JSON.stringify([firstNameValue, lastNameValue]))

            localStorage.setItem('full-name', fullNameValue);
            localStorage.setItem('grade-level', gradeLevelValue);
            localStorage.setItem('section', sectionValue);

            window.location.href = "miniproj_mainInteractive.html";
        })
        
                const forms = document.querySelector(".forms"),
                pwShowHide = document.querySelectorAll(".eye-icon"),
                links = document.querySelectorAll(".link");

            pwShowHide.forEach(eyeIcon => {
                eyeIcon.addEventListener("click", () => {
                    let pwFields = eyeIcon.parentElement.parentElement.querySelectorAll(".password");
                    
                    pwFields.forEach(password => {
                        if(password.type === "password"){
                            password.type = "text";
                            eyeIcon.classList.replace("bx-hide", "bx-show");
                            return;
                        }
                        password.type = "password";
                        eyeIcon.classList.replace("bx-show", "bx-hide");
                    })
                    
                })
            })  
            // Hide and show password for signup
const eyeIcons = document.querySelectorAll(".show-hide");

eyeIcons.forEach((eyeIcon) => {
  eyeIcon.addEventListener("click", () => {
    const pInput = eyeIcon.parentElement.querySelector("input"); //getting parent element of eye icon and selecting the password input
    if (pInput.type === "password") {
      eyeIcon.classList.replace("bx-hide", "bx-show");
      return (pInput.type = "text");
    }
    eyeIcon.classList.replace("bx-show", "bx-hide");
    pInput.type = "password";
  });
});
    


            links.forEach(link => {
                link.addEventListener("click", e => {
                e.preventDefault(); //preventing form submit
                forms.classList.toggle("show-signup");
                })
            })

            
        // Get the modal

        var modalparent = document.getElementsByClassName("modal_multi");

        // Get the button that opens the modal

        var modal_btn_multi = document.getElementsByClassName("thisBtn");

        // Get the <span> element that closes the modal
        var span_close_multi = document.getElementsByClassName("closes");

        // When the user clicks the button, open the modal
        function setDataIndex() {

            for (i = 0; i < modal_btn_multi.length; i++)
            {
                modal_btn_multi[i].setAttribute('data-index', i);
                modalparent[i].setAttribute('data-index', i);
                span_close_multi[i].setAttribute('data-index', i);
            }
        }



        for (i = 0; i < modal_btn_multi.length; i++)
        {
            modal_btn_multi[i].onclick = function() {
                var ElementIndex = this.getAttribute('data-index');
                modalparent[ElementIndex].style.display = "block";
            };

            // When the user clicks on <span> (x), close the modal
            span_close_multi[i].onclick = function() {
                var ElementIndex = this.getAttribute('data-index');
                modalparent[ElementIndex].style.display = "none";
            };

        }

        window.onload = function() {

            setDataIndex();
        };

        window.onclick = function(event) {
            if (event.target === modalparent[event.target.getAttribute('data-index')]) {
                modalparent[event.target.getAttribute('data-index')].style.display = "none";
            }
          }


    const form = document.querySelector("form"),
  emailField = form.querySelector(".email-field"),
  emailInput = emailField.querySelector(".email"),
  passField = form.querySelector(".create-password"),
  passInput = passField.querySelector(".password"),
  cPassField = form.querySelector(".confirm-password"),
  cPassInput = cPassField.querySelector(".cPassword");

// Email Validtion
function checkEmail() {
  const emaiPattern = /^[^ ]+@[^ ]+\.[a-z]{2,3}$/;
  if (!emailInput.value.match(emaiPattern)) {
    return emailField.classList.add("invalid"); //adding invalid class if email value do not mathced with email pattern
  }
  emailField.classList.remove("invalid"); //removing invalid class if email value matched with emaiPattern
}

// Password Validation
function createPass() {
  const passPattern =
    /^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$/;

  if (!passInput.value.match(passPattern)) {
    return passField.classList.add("invalid"); //adding invalid class if password input value do not match with passPattern
  }
  passField.classList.remove("invalid"); //removing invalid class if password input value matched with passPattern
}

// Confirm Password Validtion
function confirmPass() {
  if (passInput.value !== cPassInput.value || cPassInput.value === "") {
    return cPassField.classList.add("invalid");
  }
  cPassField.classList.remove("invalid");
}

// Calling Funtion on Form Sumbit
form.addEventListener("submit", (e) => {
  e.preventDefault(); //preventing form submitting
  checkEmail();
  createPass();
  confirmPass();

  //calling function on key up
  emailInput.addEventListener("keyup", checkEmail);
  passInput.addEventListener("keyup", createPass);
  cPassInput.addEventListener("keyup", confirmPass);

  if (
    !emailField.classList.contains("invalid") &&
    !passField.classList.contains("invalid") &&
    !cPassField.classList.contains("invalid")
  ) {
    location.href = form.getAttribute("action");
  }
});


            </script>
            <script src = "https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.bundle.min.js"></script>
            
            <script>
      
            </script>
    </body>
</html>
